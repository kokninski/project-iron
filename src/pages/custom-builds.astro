---
import { getCollection } from 'astro:content';
import FeaturedBuildCard from '../components/FeaturedBuildCard.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import ProcessSteps from '../components/ProcessSteps.astro';
import ProductCard from '../components/ProductCard.astro';
import BaseLayout from '../layouts/BaseLayout.astro';

// get featured products
const products = await getCollection('products');

const zadatekProduct = products.find(p => p.id === 'zadatek.md');
const konsultacjaProduct = products.find(p => p.id === 'konsultacja.md');
const featuredProducts = [zadatekProduct, konsultacjaProduct];

// get featured builds
const builds = await getCollection('builds');
const featuredBuild = builds.find(b => b.id === 'pink-bike.md');
---

<BaseLayout>
  <Header />
  <main class="container mx-auto py-16">
    <h1 class="text-heading text-4xl font-bold mb-8">Indywidualne realizacje</h1>
    <p class="text-body text-steel max-w-2xl mb-12">
      ZamÃ³w swÃ³j wymarzony chopper â€“ od pomysÅ‚u do gotowego motocykla. Poznaj nasz proces, dostÄ™pne
      opcje, harmonogram oraz warunki rezerwacji.
    </p>

    <section class="mb-16">
      <h2 class="text-heading text-2xl font-bold mb-6">Jak wyglÄ…da proces?</h2>
      <ProcessSteps
        steps={[
          { icon: 'ğŸ’¡', title: 'PomysÅ‚', description: 'WspÃ³lnie omawiamy TwojÄ… wizjÄ™ i potrzeby.' },
          {
            icon: 'âœï¸',
            title: 'Projekt',
            description: 'Tworzymy indywidualny projekt i dobieramy materiaÅ‚y.',
          },
          {
            icon: 'âš’ï¸',
            title: 'Budowa',
            description: 'RÄ™cznie wykonujemy kaÅ¼dy element z dbaÅ‚oÅ›ciÄ… o detale.',
          },
          {
            icon: 'ğŸ§ª',
            title: 'Testy',
            description: 'Sprawdzamy jakoÅ›Ä‡ i bezpieczeÅ„stwo gotowego choppera.',
          },
          {
            icon: 'ğŸšš',
            title: 'Dostawa',
            description: 'Dostarczamy gotowy motocykl pod wskazany adres.',
          },
        ]}
      />
    </section>

    <section class="mb-16">
      <h2 class="text-heading text-2xl font-bold mb-6">Opcje personalizacji</h2>
      <ul class="list-disc pl-6 text-steel mb-4">
        <li>WybÃ³r koloru i wykoÅ„czenia ramy</li>
        <li>Indywidualny projekt zbiornika i detali</li>
        <li>MoÅ¼liwoÅ›Ä‡ doboru silnika i osprzÄ™tu</li>
        <li>Personalizowane akcesoria i dodatki</li>
      </ul>
      <p class="text-body text-steel">
        KaÅ¼dy projekt wyceniamy indywidualnie â€“ skontaktuj siÄ™, by poznaÄ‡ szczegÃ³Å‚y.
      </p>
    </section>

    <section class="mb-16">
      <h2 class="text-heading text-2xl font-bold mb-6">Harmonogram realizacji</h2>
      <ol class="list-decimal pl-6 text-steel mb-4">
        <li>WstÄ™pna konsultacja i omÃ³wienie pomysÅ‚u</li>
        <li>Przygotowanie projektu i wyceny (do 2 tygodni)</li>
        <li>Podpisanie umowy i wpÅ‚ata zadatku</li>
        <li>Realizacja budowy (zwykle 3â€“6 miesiÄ™cy)</li>
        <li>OdbiÃ³r lub dostawa gotowego motocykla</li>
      </ol>
      <p class="text-body text-steel">
        Czas realizacji zaleÅ¼y od stopnia personalizacji i dostÄ™pnoÅ›ci komponentÃ³w.
      </p>
    </section>

    <section class="mb-16">
      <h2 class="text-heading text-2xl font-bold mb-6">Rezerwacja i konsultacje</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 mb-6">
        {
          featuredProducts.map(product => (
            <div class="w-full max-w-xs h-full mx-auto flex">
              <ProductCard
                image={product.data.photo}
                name={product.data.name}
                pricePLN={product.data.pricePLN}
                stripeUrl={product.data.stripeLink}
              />
            </div>
          ))
        }
      </div>
      <p class="text-body text-steel">
        Zadatek gwarantuje rezerwacjÄ™ terminu. Konsultacja online to idealny sposÃ³b na omÃ³wienie
        szczegÃ³Å‚Ã³w przed podjÄ™ciem decyzji.
      </p>
    </section>

    <section class="mb-16">
      <h2 class="text-heading text-2xl font-bold mb-6">NajczÄ™Å›ciej zadawane pytania</h2>
      <div class="max-w-2xl mx-auto">
        <details class="mb-4 border rounded-lg p-4 bg-offwhite/80">
          <summary class="font-semibold cursor-pointer"
            >Czy mogÄ™ zamÃ³wiÄ‡ motocykl wedÅ‚ug wÅ‚asnego projektu?</summary
          >
          <p class="mt-2 text-steel">
            Tak! KaÅ¼dy projekt realizujemy indywidualnie, zgodnie z Twoimi oczekiwaniami.
          </p>
        </details>
        <details class="mb-4 border rounded-lg p-4 bg-offwhite/80">
          <summary class="font-semibold cursor-pointer"
            >Jaki jest czas oczekiwania na realizacjÄ™?</summary
          >
          <p class="mt-2 text-steel">
            Standardowy czas budowy to 3â€“6 miesiÄ™cy, w zaleÅ¼noÅ›ci od stopnia personalizacji.
          </p>
        </details>
        <details class="mb-4 border rounded-lg p-4 bg-offwhite/80">
          <summary class="font-semibold cursor-pointer">Czy zadatek jest zwrotny?</summary>
          <p class="mt-2 text-steel">
            Zadatek jest bezzwrotny, ale gwarantuje rezerwacjÄ™ terminu i rozpoczÄ™cie prac.
          </p>
        </details>
        <details class="mb-4 border rounded-lg p-4 bg-offwhite/80">
          <summary class="font-semibold cursor-pointer">Jak wyglÄ…da proces konsultacji?</summary>
          <p class="mt-2 text-steel">
            Konsultacja odbywa siÄ™ online lub telefonicznie â€“ omÃ³wimy TwÃ³j pomysÅ‚, odpowiemy na
            pytania i doradzimy najlepsze rozwiÄ…zania.
          </p>
        </details>
      </div>
    </section>

    <section class="py-16">
      <h2 class="text-heading text-2xl font-bold mb-6 text-center">PrzykÅ‚adowa realizacja</h2>
      <div class="container mx-auto">
        <FeaturedBuildCard
          images={featuredBuild.data.photos?.map(src => ({ src })) ?? []}
          title={featuredBuild.data.name}
          specs={featuredBuild.data.specs?.map(s => ({ label: s })) ?? []}
        />
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>
