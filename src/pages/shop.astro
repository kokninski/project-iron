---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import ProductCard from '../components/ProductCard.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';

const products = await getCollection('products');
---

<BaseLayout>
  <Header />
  <main class="container mx-auto py-16">
    <h1 class="text-heading text-4xl font-bold mb-8">Sklep</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 justify-center">
      {
        products.map((product) => (
          <div class="flex flex-col items-stretch min-h-[420px] w-[320px] mx-auto">
            <ProductCard
              image={product.data.photo}
              name={product.data.name}
              pricePLN={product.data.pricePLN}
              stripeUrl={product.data.stripeLink}
            />
          </div>
        ))
      }
    </div>
    <div class="mt-10 p-4 bg-steel/10 rounded-lg text-steel text-sm max-w-xl mx-auto">
      <strong>Wysyłka:</strong> Koszt wysyłki jest stały i skonfigurowany w Stripe. Szczegóły oraz opcje
      dostawy pojawią się podczas finalizacji zakupu.
    </div>
  </main>
  <Footer />
</BaseLayout>
